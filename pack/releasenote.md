# process_guard_20250922

## ğŸ†• v2.0.0 æ›´æ–°å†…å®¹ (2025-09-22)

### æ–°å¢åŠŸèƒ½
- **æ”¯æŒå¤šå®ä¾‹ç›‘æ§**ï¼šç°åœ¨å¯ä»¥ç›‘æ§å¤šä¸ªåŒåè¿›ç¨‹ï¼ˆå¦‚å¤šä¸ª dwm.exeï¼‰ï¼Œä»»æ„ä¸€ä¸ªè¿›ç¨‹è¶…å‡ºå†…å­˜é™åˆ¶éƒ½ä¼šè§¦å‘é‡å¯æ“ä½œ
- **æ”¹è¿›çš„ç›‘æ§é€»è¾‘**ï¼šè‡ªåŠ¨æ£€æµ‹å¹¶æ˜¾ç¤ºæ‰¾åˆ°çš„åŒåè¿›ç¨‹æ•°é‡ï¼Œæä¾›æ›´è¯¦ç»†çš„ç›‘æ§ä¿¡æ¯
- **ä¼˜åŒ–çš„æ—¥å¿—è¾“å‡º**ï¼šæ¸…æ™°æ˜¾ç¤ºæ¯ä¸ªè¿›ç¨‹çš„ PID å’Œå†…å­˜ä½¿ç”¨æƒ…å†µï¼Œä¾¿äºè°ƒè¯•å’Œç›‘æ§

### æŠ€æœ¯æ”¹è¿›
- æ–°å¢ `find_processes_by_name` å‡½æ•°ï¼Œæ”¯æŒè¿”å›æ‰€æœ‰åŒ¹é…åç§°çš„è¿›ç¨‹åˆ—è¡¨
- é‡æ„ `monitor_process` å‡½æ•°ï¼Œéå†æ£€æŸ¥æ¯ä¸ªåŒåè¿›ç¨‹çš„å†…å­˜ä½¿ç”¨æƒ…å†µ
- ä¿æŒå‘ä¸‹å…¼å®¹æ€§ï¼ŒåŸæœ‰é…ç½®æ–‡ä»¶æ— éœ€ä¿®æ”¹

---

# process_guard_20241127

### åŠŸèƒ½

- æ‰“å°ç³»ç»Ÿä¿¡æ¯ï¼ˆæ“ä½œç³»ç»Ÿç‰ˆæœ¬ã€æ˜¾ç¤ºé©±åŠ¨ç¨‹åºç‰ˆæœ¬ã€å†…å­˜ä¿¡æ¯ç­‰ï¼‰
- ç›‘æ§è¿›ç¨‹å†…å­˜ä½¿ç”¨æƒ…å†µå¹¶åœ¨è¶…è¿‡é˜ˆå€¼æ—¶é‡å¯è¿›ç¨‹
- å°†è¿›ç¨‹ä¿¡æ¯æ’å…¥æ•°æ®åº“å¹¶å®šæœŸæ¸…ç†æ—§æ•°æ®

### ä½¿ç”¨

1. å®‰è£…åæ— éœ€æ“ä½œï¼ŒæœåŠ¡ä¼šè‡ªåŠ¨è¿è¡Œã€‚
2. å¦‚æœéœ€è¦æ‰‹åŠ¨å¯åŠ¨æˆ–åœæ­¢æœåŠ¡ï¼Œå¯ä»¥è¿è¡Œ `start_service.bat` å’Œ `stop_service.bat`ã€‚

### é…ç½®

> å®‰è£…æˆåŠŸåï¼Œä¼šåœ¨å®‰è£…ç›®å½•ä¸‹è‡ªåŠ¨ç”Ÿæˆ `config.json` æ–‡ä»¶ï¼Œå¯ä»¥åœ¨æ­¤æ–‡ä»¶ä¸­ä¿®æ”¹é…ç½®ã€‚

```json
{
  "processes": [
    {
      "name": "dwm.exe",
      "memory_threshold_bytes": 1048576000,
      "process_type": "System",
      "auto_start": false
    },
    {
      "name": "Microsoft.photos.exe",
      "memory_threshold_bytes": 2048576000,
      "process_type": "System",
      "auto_start": false
    }
  ],
  "interval_seconds": 60,
  "db_config": {
    "insert_into_db": true,
    "db_cleanup_hours": 720,
    "db_vacuum_threshold_mb": 500,
    "cleanup_interval_hours": 12
  }
}
```

- `processes`: ç›‘æ§çš„è¿›ç¨‹åˆ—è¡¨ã€‚
  - `name`: è¿›ç¨‹åç§°ã€‚
  - `memory_threshold_bytes`: å†…å­˜é˜ˆå€¼ï¼Œå•ä½ä¸ºå­—èŠ‚ã€‚
  - `process_type`: è¿›ç¨‹ç±»å‹ï¼Œå¯ä»¥æ˜¯ `System`, `Service(String)` æˆ– `User(String, u32)`ã€‚
  - `auto_start`: æ˜¯å¦è‡ªåŠ¨å¯åŠ¨è¿›ç¨‹ã€‚
- `interval_seconds`: ç›‘æ§é—´éš”æ—¶é—´ï¼Œå•ä½ä¸ºç§’ã€‚
- `db_config`: æ•°æ®åº“é…ç½®ã€‚
  - `insert_into_db`: æ˜¯å¦å°†è¿›ç¨‹ä¿¡æ¯æ’å…¥æ•°æ®åº“ã€‚
  - `db_cleanup_hours`: æ•°æ®åº“æ¸…ç†æ—¶é—´é—´éš”ï¼Œå•ä½ä¸ºå°æ—¶ã€‚
  - `db_vacuum_threshold_mb`: æ•°æ®åº“çœŸç©ºæ“ä½œçš„é˜ˆå€¼ï¼Œå•ä½ä¸ºMBã€‚
  - `cleanup_interval_hours`: æ•°æ®åº“æ¸…ç†æ“ä½œçš„æ—¶é—´é—´éš”ï¼Œå•ä½ä¸ºå°æ—¶ã€‚